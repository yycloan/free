<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Client Portal - YYC CASH LOAN</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <h1>YYC CASH LOAN</h1>
            <div class="subtitle">NCRCP15906 | Fast & Secure Loans</div>
        </header>

        <!-- Account Section -->
        <section id="account" class="content-section active">
            <h3 class="section-title">Client Portal</h3>
            
            <div id="login-section" class="login-form">
                <h4><i class="fas fa-sign-in-alt"></i> Login to Your Account</h4>
                <div class="form-group">
                    <label for="login-id">ID Number</label>
                    <input type="text" id="login-id" class="form-control" required maxlength="13" placeholder="Enter your 13-digit ID number">
                </div>
                <div class="form-group">
                    <label for="login-name">Full Name</label>
                    <input type="text" id="login-name" class="form-control" required placeholder="Enter your full name as per ID">
                </div>
                <button class="btn btn-primary btn-block" onclick="loginToPortal()">Login to Portal</button>
                <p style="font-size: 0.8rem; text-align: center; margin-top: 10px; color: var(--gray);">
                    Don't have an account? <a href="apply.html" onclick="navigateTo('apply')" style="color: var(--primary);">Apply for a loan</a>
                </p>
            </div>
            
            <div id="portal-section" style="display: none;">
                <div class="portal-card">
                    <h4><i class="fas fa-chart-line"></i> Loan Application Status</h4>
                    <div class="loan-status">
                        <div class="status-indicator status-pending"></div>
                        <span>Application Under Review</span>
                    </div>
                    <p>Application submitted on: <span id="application-date">2024-01-15</span></p>
                    <div class="progress-bar-container">
                        <div class="progress-bar" style="width: 30%;"></div>
                    </div>
                    <p style="font-size: 0.8rem; text-align: center;">Application is 30% complete</p>
                </div>
                
                <div class="portal-card">
                    <h4><i class="fas fa-user-circle"></i> Application Details</h4>
                    <div class="detail-row">
                        <span>Full Name:</span>
                        <span id="detail-name">-</span>
                    </div>
                    <div class="detail-row">
                        <span>ID Number:</span>
                        <span id="detail-id">-</span>
                    </div>
                    <div class="detail-row">
                        <span>Contact Number:</span>
                        <span id="detail-phone">-</span>
                    </div>
                    <div class="detail-row">
                        <span>Email:</span>
                        <span id="detail-email">-</span>
                    </div>
                    <div class="detail-row">
                        <span>Loan Amount:</span>
                        <span id="detail-amount">-</span>
                    </div>
                    <div class="detail-row">
                        <span>Loan Term:</span>
                        <span id="detail-term">-</span>
                    </div>
                    <div class="detail-row">
                        <span>Loan Purpose:</span>
                        <span id="detail-purpose">-</span>
                    </div>
                </div>
                
                <div class="portal-card">
                    <h4><i class="fas fa-info-circle"></i> Next Steps</h4>
                    <p>Our team is currently reviewing your application. You will receive an SMS and email notification once a decision has been made.</p>
                    <p style="margin-top: 15px; font-weight: 600;">For any queries, please contact us:</p>
                    <div class="contact-info">
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <span>+27 10 123 4567</span>
                        </div>
                        <div class="contact-item">
                            <i class="fab fa-whatsapp"></i>
                            <span>+27 71 234 5678</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <span>yyccashloan@gmail.com</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-clock"></i>
                            <span>Mon-Fri: 8:00 AM - 5:00 PM</span>
                        </div>
                    </div>
                    <button class="btn btn-primary btn-block" style="margin-top: 15px;" onclick="logoutFromPortal()">Logout</button>
                </div>
            </div>
        </section>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <a href="index.html" class="nav-item" data-section="home">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </a>
            <a href="apply.html" class="nav-item" data-section="apply">
                <i class="fas fa-edit"></i>
                <span>Apply</span>
            </a>
            <a href="loans.html" class="nav-item" data-section="loans">
                <i class="fas fa-money-bill-wave"></i>
                <span>Loans</span>
            </a>
            <a href="how.html" class="nav-item" data-section="how">
                <i class="fas fa-info-circle"></i>
                <span>How It Works</span>
            </a>
            <a href="account.html" class="nav-item active" data-section="account">
                <i class="fas fa-user"></i>
                <span>Account</span>
            </a>
        </nav>
    </div>

    <script>
        // Navigation functionality
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                const sectionId = this.getAttribute('data-section');
                navigateTo(sectionId);
            });
        });

        function navigateTo(sectionId) {
            // Hide all sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            
            // Update active nav item
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('data-section') === sectionId) {
                    item.classList.add('active');
                }
            });
            
            // Scroll to top
            window.scrollTo(0, 0);
        }

        // Client Portal Login
        function loginToPortal() {
            const loginId = document.getElementById('login-id').value.trim();
            const loginName = document.getElementById('login-name').value.trim();
            
            if (!loginId || !loginName) {
                alert('Please enter both ID number and full name.');
                return;
            }
            
            // Check if there's saved application data
            const savedData = localStorage.getItem('loanApplication');
            
            if (savedData) {
                const applicationData = JSON.parse(savedData);
                
                // Simple validation
                if (loginId === applicationData.idNumber && loginName.toLowerCase() === applicationData.fullName.toLowerCase()) {
                    // Show portal section
                    document.getElementById('login-section').style.display = 'none';
                    document.getElementById('portal-section').style.display = 'block';
                    
                    // Populate application details
                    document.getElementById('detail-name').textContent = applicationData.fullName;
                    document.getElementById('detail-id').textContent = applicationData.idNumber;
                    document.getElementById('detail-phone').textContent = applicationData.phone;
                    document.getElementById('detail-email').textContent = applicationData.email;
                    document.getElementById('detail-amount').textContent = 'R' + parseInt(applicationData.loanAmount).toLocaleString();
                    document.getElementById('detail-term').textContent = applicationData.repaymentTerm + ' months';
                    document.getElementById('detail-purpose').textContent = applicationData.loanPurpose.replace('-', ' ').replace(/\b\w/g, l => l.toUpperCase());
                    
                    // Set application date
                    document.getElementById('application-date').textContent = applicationData.applicationDate || new Date().toISOString().split('T')[0];
                    
                } else {
                    alert('Invalid credentials. Please check your ID number and full name.');
                }
            } else {
                alert('No application found. Please apply for a loan first.');
            }
        }

        function logoutFromPortal() {
            document.getElementById('login-section').style.display = 'block';
            document.getElementById('portal-section').style.display = 'none';
            document.getElementById('login-id').value = '';
            document.getElementById('login-name').value = '';
        }
    </script>
</body>
</html>
